import{collection,getDocs,getFirestore}from"./firestore.js";import{updateContainerHeight,updateCounter}from"./helpers.js";const db=getFirestore();async function generateList(){extractData(await getDocs(collection(db,"todo-items"))).sort((e,t)=>t.order-e.order).forEach(e=>{insertTask(e.text,e.id,e.status,e.order)}),updateContainerHeight(),updateCounter()}function extractData(e){const t=[];return e.forEach(e=>{t.push({text:e.data().text,id:e.id,status:e.data().status,order:e.data().order})}),t}function insertTask(e,t,a,s){const i=document.querySelector(".tasks-container ul"),o="active"===a?"":" checked",r="active"===a?" hidden":"",c=window.screen.width<420?'<div class="lift-release-icon" role="button" aria-pressed="false"></div>':"";i.insertAdjacentHTML("afterbegin",`<li class="task-row draggable opace${function(e){const t=document.cookie.match(/(?<=filterButton=)[^;]*/)[0];if("active"===t&&"completed"===e)return" hidden";if("completed"===t&&"active"===e)return" hidden";return""}(a)}" data-id="${t}" data-status="${a}" data-order="${s}">\n      <div class="task-container">\n        <div role="checkbox" aria-checked="false" class="checkbox${o}">\n          <img height="9px" width="11px" src="/todo-app/img/icon-check.svg" alt="check icon" class="${r}"/>\n        </div>\n        <div class="task">${e}</div>\n      </div>\n      ${c}\n      <div role="button" aria-pressed="false" class="cross-icon"></div>\n    </li>`),setTimeout(()=>document.querySelector(".opace").classList.toggle("opace"))}generateList();